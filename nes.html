import React, { useState, useEffect, useRef } from â€˜reactâ€™;

const FamicomQuiz = () => {
const [currentQuestion, setCurrentQuestion] = useState(0);
const [score, setScore] = useState(0);
const [mistakes, setMistakes] = useState(0);
const [gameStatus, setGameStatus] = useState(â€˜playingâ€™); // â€˜playingâ€™, â€˜winâ€™, â€˜loseâ€™
const [selectedAnswer, setSelectedAnswer] = useState(null);
const [showResult, setShowResult] = useState(false);
const [usedQuestions, setUsedQuestions] = useState([]);
const [question, setQuestion] = useState(null);

// åŠ¹æœéŸ³ã®ç”Ÿæˆ
const audioContextRef = useRef(null);

useEffect(() => {
audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();
}, []);

const playCorrectSound = () => {
const ctx = audioContextRef.current;
if (!ctx) return;

```
// ãƒ”ãƒ³ãƒãƒ³éŸ³ï¼ˆ2å›ï¼‰
const playPing = (startTime) => {
  const osc = ctx.createOscillator();
  const gain = ctx.createGain();
  
  osc.connect(gain);
  gain.connect(ctx.destination);
  
  osc.frequency.value = 880; // A5
  osc.type = 'sine';
  
  gain.gain.setValueAtTime(0.3, startTime);
  gain.gain.exponentialRampToValueAtTime(0.01, startTime + 0.15);
  
  osc.start(startTime);
  osc.stop(startTime + 0.15);
};

playPing(ctx.currentTime);
playPing(ctx.currentTime + 0.15);
```

};

const playIncorrectSound = () => {
const ctx = audioContextRef.current;
if (!ctx) return;

```
// ãƒ–ãƒ¼éŸ³
const osc = ctx.createOscillator();
const gain = ctx.createGain();

osc.connect(gain);
gain.connect(ctx.destination);

osc.frequency.value = 200; // ä½ã„éŸ³
osc.type = 'sawtooth';

gain.gain.setValueAtTime(0.3, ctx.currentTime);
gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);

osc.start(ctx.currentTime);
osc.stop(ctx.currentTime + 0.5);
```

};

const questions = [
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ãŒç™ºå£²ã•ã‚ŒãŸã®ã¯ä½•å¹´ï¼Ÿâ€™,
choices: [â€˜1981å¹´â€™, â€˜1983å¹´â€™, â€˜1985å¹´â€™, â€˜1987å¹´â€™],
correct: 1,
explanation: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã¯1983å¹´7æœˆ15æ—¥ã«ç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®æ­£å¼åç§°ã¯ï¼Ÿâ€™,
choices: [â€˜ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿â€™, â€˜ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚³ãƒ³ã‚½ãƒ¼ãƒ«â€™, â€˜ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿â€™, â€˜ãƒ•ã‚¡ãƒ³ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿â€™],
correct: 0,
explanation: â€˜æ­£å¼åç§°ã¯ã€Œãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã€ã§ã™ã€‚â€™
},
{
question: â€˜ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒãƒªã‚ªãƒ–ãƒ©ã‚¶ãƒ¼ã‚ºãŒç™ºå£²ã•ã‚ŒãŸã®ã¯ï¼Ÿâ€™,
choices: [â€˜1983å¹´â€™, â€˜1984å¹´â€™, â€˜1985å¹´â€™, â€˜1986å¹´â€™],
correct: 2,
explanation: â€˜ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒãƒªã‚ªãƒ–ãƒ©ã‚¶ãƒ¼ã‚ºã¯1985å¹´9æœˆ13æ—¥ã«ç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ãƒœã‚¿ãƒ³ã¯ä½•å€‹ï¼Ÿâ€™,
choices: [â€˜2å€‹â€™, â€˜4å€‹â€™, â€˜6å€‹â€™, â€˜8å€‹â€™],
correct: 1,
explanation: â€˜Aã€Bã€SELECTã€STARTã®4å€‹ã®ãƒœã‚¿ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚â€™
},
{
question: â€˜ãƒ‰ãƒ©ã‚´ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆã‚·ãƒªãƒ¼ã‚ºã‚’é–‹ç™ºã—ãŸä¼šç¤¾ã¯ï¼Ÿâ€™,
choices: [â€˜ä»»å¤©å ‚â€™, â€˜ã‚¨ãƒ‹ãƒƒã‚¯ã‚¹â€™, â€˜ãƒŠãƒ ã‚³â€™, â€˜ã‚«ãƒ—ã‚³ãƒ³â€™],
correct: 1,
explanation: â€˜ãƒ‰ãƒ©ã‚´ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆã¯ã‚¨ãƒ‹ãƒƒã‚¯ã‚¹ï¼ˆç¾ã‚¹ã‚¯ã‚¦ã‚§ã‚¢ãƒ»ã‚¨ãƒ‹ãƒƒã‚¯ã‚¹ï¼‰ãŒé–‹ç™ºã—ã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ã‚«ã‚»ãƒƒãƒˆã®è‰²ã¯ä¸»ã«ä½•è‰²ï¼Ÿâ€™,
choices: [â€˜é»’â€™, â€˜èµ¤â€™, â€˜ã‚°ãƒ¬ãƒ¼â€™, â€˜é’â€™],
correct: 2,
explanation: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ã‚«ã‚»ãƒƒãƒˆã¯ä¸»ã«ã‚°ãƒ¬ãƒ¼è‰²ã§ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã§åˆã‚ã¦ç™ºå£²ã•ã‚ŒãŸã‚²ãƒ¼ãƒ ã¯ï¼Ÿâ€™,
choices: [â€˜ãƒ‰ãƒ³ã‚­ãƒ¼ã‚³ãƒ³ã‚°â€™, â€˜ãƒãƒ‘ã‚¤â€™, â€˜ãƒãƒªã‚ªãƒ–ãƒ©ã‚¶ãƒ¼ã‚ºâ€™, â€˜ãƒ‘ãƒƒã‚¯ãƒãƒ³â€™],
correct: 0,
explanation: â€˜ãƒ‰ãƒ³ã‚­ãƒ¼ã‚³ãƒ³ã‚°ã€ãƒ‰ãƒ³ã‚­ãƒ¼ã‚³ãƒ³ã‚°JRã€ãƒãƒ‘ã‚¤ã®3æœ¬ãŒæœ€åˆã«ç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®CPUã¯ä½•ãƒ“ãƒƒãƒˆï¼Ÿâ€™,
choices: [â€˜4ãƒ“ãƒƒãƒˆâ€™, â€˜8ãƒ“ãƒƒãƒˆâ€™, â€˜16ãƒ“ãƒƒãƒˆâ€™, â€˜32ãƒ“ãƒƒãƒˆâ€™],
correct: 1,
explanation: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã¯8ãƒ“ãƒƒãƒˆã®CPUã‚’æ­è¼‰ã—ã¦ã„ã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ­ãƒƒã‚¯ãƒãƒ³ã‚·ãƒªãƒ¼ã‚ºã‚’é–‹ç™ºã—ãŸä¼šç¤¾ã¯ï¼Ÿâ€™,
choices: [â€˜ã‚³ãƒŠãƒŸâ€™, â€˜ã‚«ãƒ—ã‚³ãƒ³â€™, â€˜ã‚¿ã‚¤ãƒˆãƒ¼â€™, â€˜ãƒãƒ‰ã‚½ãƒ³â€™],
correct: 1,
explanation: â€˜ãƒ­ãƒƒã‚¯ãƒãƒ³ã¯ã‚«ãƒ—ã‚³ãƒ³ãŒé–‹ç™ºã—ãŸã‚²ãƒ¼ãƒ ã§ã™ã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ç™ºå£²ä¾¡æ ¼ã¯ï¼Ÿâ€™,
choices: [â€˜9,800å††â€™, â€˜12,500å††â€™, â€˜14,800å††â€™, â€˜19,800å††â€™],
correct: 2,
explanation: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ç™ºå£²æ™‚ã®ä¾¡æ ¼ã¯14,800å††ã§ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ ãƒ‡ã‚£ã‚¹ã‚¯ã‚·ã‚¹ãƒ†ãƒ ãŒç™ºå£²ã•ã‚ŒãŸã®ã¯ï¼Ÿâ€™,
choices: [â€˜1984å¹´â€™, â€˜1985å¹´â€™, â€˜1986å¹´â€™, â€˜1987å¹´â€™],
correct: 2,
explanation: â€˜ãƒ‡ã‚£ã‚¹ã‚¯ã‚·ã‚¹ãƒ†ãƒ ã¯1986å¹´2æœˆ21æ—¥ã«ç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚â€™
},
{
question: â€˜ã‚°ãƒ©ãƒ‡ã‚£ã‚¦ã‚¹ã‚’é–‹ç™ºã—ãŸä¼šç¤¾ã¯ï¼Ÿâ€™,
choices: [â€˜ãƒŠãƒ ã‚³â€™, â€˜ã‚³ãƒŠãƒŸâ€™, â€˜ã‚¿ã‚¤ãƒˆãƒ¼â€™, â€˜ã‚»ã‚¬â€™],
correct: 1,
explanation: â€˜ã‚°ãƒ©ãƒ‡ã‚£ã‚¦ã‚¹ã¯ã‚³ãƒŠãƒŸãŒé–‹ç™ºã—ãŸã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚²ãƒ¼ãƒ ã§ã™ã€‚â€™
},
{
question: â€˜ã‚¼ãƒ«ãƒ€ã®ä¼èª¬ã®ä¸»äººå…¬ã®åå‰ã¯ï¼Ÿâ€™,
choices: [â€˜ã‚¼ãƒ«ãƒ€â€™, â€˜ãƒªãƒ³ã‚¯â€™, â€˜ã‚¬ãƒãƒ³â€™, â€˜ãƒˆãƒ©ã‚¤ãƒ•ã‚©ãƒ¼ã‚¹â€™],
correct: 1,
explanation: â€˜ä¸»äººå…¬ã¯ãƒªãƒ³ã‚¯ã§ã™ã€‚ã‚¼ãƒ«ãƒ€ã¯å§«ã®åå‰ã§ã™ã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã§æœ€ã‚‚å£²ã‚ŒãŸã‚²ãƒ¼ãƒ ã¯ï¼Ÿâ€™,
choices: [â€˜ãƒ‰ãƒ©ã‚´ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆIIIâ€™, â€˜ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒãƒªã‚ªãƒ–ãƒ©ã‚¶ãƒ¼ã‚ºâ€™, â€˜ãƒ•ã‚¡ã‚¤ãƒŠãƒ«ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼IIIâ€™, â€˜ãƒ‰ãƒ©ã‚´ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆIVâ€™],
correct: 1,
explanation: â€˜ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒãƒªã‚ªãƒ–ãƒ©ã‚¶ãƒ¼ã‚ºãŒç´„681ä¸‡æœ¬ã§æœ€å¤šè²©å£²æœ¬æ•°ã§ã™ã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ã‚«ã‚»ãƒƒãƒˆã«ä½¿ã‚ã‚ŒãŸãƒ¡ãƒ¢ãƒªãƒ¼ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç”¨ã®é›»æ± ã¯ï¼Ÿâ€™,
choices: [â€˜å˜ä¸‰é›»æ± â€™, â€˜ãƒœã‚¿ãƒ³é›»æ± â€™, â€˜ãƒªãƒã‚¦ãƒ é›»æ± â€™, â€˜å……é›»æ± â€™],
correct: 1,
explanation: â€˜CR2032ãªã©ã®ãƒœã‚¿ãƒ³é›»æ± ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ¡ãƒˆãƒ­ã‚¤ãƒ‰ã®ä¸»äººå…¬ã‚µãƒ ã‚¹ã®æ€§åˆ¥ã¯ï¼Ÿâ€™,
choices: [â€˜ç”·æ€§â€™, â€˜å¥³æ€§â€™, â€˜ãƒ­ãƒœãƒƒãƒˆâ€™, â€˜ä¸æ˜â€™],
correct: 1,
explanation: â€˜ã‚µãƒ ã‚¹ãƒ»ã‚¢ãƒ©ãƒ³ã¯å¥³æ€§ã§ã™ã€‚å½“æ™‚ã¯è¡æ’ƒçš„ãªäº‹å®Ÿã§ã—ãŸã€‚â€™
},
{
question: â€˜é«˜æ©‹åäººã®16é€£å°„ã§æœ‰åãªã‚²ãƒ¼ãƒ ã¯ï¼Ÿâ€™,
choices: [â€˜ã‚¹ã‚¿ãƒ¼ã‚½ãƒ«ã‚¸ãƒ£ãƒ¼â€™, â€˜ã‚®ãƒ£ãƒ©ã‚¬â€™, â€˜ã‚¼ãƒ“ã‚¦ã‚¹â€™, â€˜ã‚°ãƒ©ãƒ‡ã‚£ã‚¦ã‚¹â€™],
correct: 0,
explanation: â€˜ã‚¹ã‚¿ãƒ¼ã‚½ãƒ«ã‚¸ãƒ£ãƒ¼ã§é«˜æ©‹åäººã®16é€£å°„ãŒæœ‰åã«ãªã‚Šã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ç”»é¢è§£åƒåº¦ã¯ï¼Ÿâ€™,
choices: [â€˜256Ã—224â€™, â€˜320Ã—240â€™, â€˜512Ã—448â€™, â€˜640Ã—480â€™],
correct: 0,
explanation: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®è§£åƒåº¦ã¯256Ã—224ãƒ”ã‚¯ã‚»ãƒ«ã§ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ã‚¤ãƒŠãƒ«ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ã‚’é–‹ç™ºã—ãŸä¼šç¤¾ã¯ï¼Ÿâ€™,
choices: [â€˜ã‚¨ãƒ‹ãƒƒã‚¯ã‚¹â€™, â€˜ã‚¹ã‚¯ã‚¦ã‚§ã‚¢â€™, â€˜ãƒŠãƒ ã‚³â€™, â€˜ã‚«ãƒ—ã‚³ãƒ³â€™],
correct: 1,
explanation: â€˜ãƒ•ã‚¡ã‚¤ãƒŠãƒ«ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ã¯ã‚¹ã‚¯ã‚¦ã‚§ã‚¢ï¼ˆç¾ã‚¹ã‚¯ã‚¦ã‚§ã‚¢ãƒ»ã‚¨ãƒ‹ãƒƒã‚¯ã‚¹ï¼‰ãŒé–‹ç™ºã—ã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ‘ãƒƒã‚¯ãƒãƒ³ã®ç”Ÿã¿ã®è¦ªã¯ï¼Ÿâ€™,
choices: [â€˜å®®æœ¬èŒ‚â€™, â€˜å²©è°·å¾¹â€™, â€˜å €äº•é›„äºŒâ€™, â€˜å‚å£åšä¿¡â€™],
correct: 1,
explanation: â€˜ãƒ‘ãƒƒã‚¯ãƒãƒ³ã¯ãƒŠãƒ ã‚³ã®å²©è°·å¾¹æ°ãŒé–‹ç™ºã—ã¾ã—ãŸã€‚â€™
},
{
question: â€˜åˆä»£ãƒ‰ãƒ©ã‚´ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆã®ç™ºå£²å¹´ã¯ï¼Ÿâ€™,
choices: [â€˜1984å¹´â€™, â€˜1985å¹´â€™, â€˜1986å¹´â€™, â€˜1987å¹´â€™],
correct: 2,
explanation: â€˜åˆä»£ãƒ‰ãƒ©ã‚´ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆã¯1986å¹´5æœˆ27æ—¥ã«ç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚â€™
},
{
question: â€˜é­‚æ–—ç¾…ã®å”åŠ›ãƒ—ãƒ¬ã‚¤ã¯æœ€å¤§ä½•äººï¼Ÿâ€™,
choices: [â€˜1äººâ€™, â€˜2äººâ€™, â€˜3äººâ€™, â€˜4äººâ€™],
correct: 1,
explanation: â€˜é­‚æ–—ç¾…ã¯2äººåŒæ™‚ãƒ—ãƒ¬ã‚¤ãŒå¯èƒ½ã§ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ã‚«ã‚»ãƒƒãƒˆã®æœ€å¤§å®¹é‡ï¼ˆåˆæœŸï¼‰ã¯ï¼Ÿâ€™,
choices: [â€˜256KBâ€™, â€˜512KBâ€™, â€˜1MBâ€™, â€˜2MBâ€™],
correct: 1,
explanation: â€˜åˆæœŸã®ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã‚«ã‚»ãƒƒãƒˆã¯512KBç¨‹åº¦ã§ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ãƒ­ãƒœãƒƒãƒˆãŒç™ºå£²ã•ã‚ŒãŸã®ã¯ï¼Ÿâ€™,
choices: [â€˜1983å¹´â€™, â€˜1984å¹´â€™, â€˜1985å¹´â€™, â€˜1986å¹´â€™],
correct: 2,
explanation: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ãƒ­ãƒœãƒƒãƒˆã¯1985å¹´ã«ç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚â€™
},
{
question: â€˜ãƒãƒ«ãƒ¼ãƒ³ãƒ•ã‚¡ã‚¤ãƒˆã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒã¤ã‹ã‚“ã§ã„ã‚‹ã‚‚ã®ã¯ï¼Ÿâ€™,
choices: [â€˜ãƒ˜ãƒªã‚¦ãƒ é¢¨èˆ¹â€™, â€˜æ°—çƒâ€™, â€˜æµ®ãè¼ªâ€™, â€˜ãƒ‘ãƒ©ã‚·ãƒ¥ãƒ¼ãƒˆâ€™],
correct: 0,
explanation: â€˜2ã¤ã®é¢¨èˆ¹ã‚’ã¤ã‹ã‚“ã§ç©ºã‚’é£›ã³ã¾ã™ã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®åå­—ã‚­ãƒ¼ã‚’é–‹ç™ºã—ãŸã®ã¯ï¼Ÿâ€™,
choices: [â€˜æ¨ªäº•è»å¹³â€™, â€˜å®®æœ¬èŒ‚â€™, â€˜å²©ç”°è¡â€™, â€˜å±±å†…æº¥â€™],
correct: 0,
explanation: â€˜æ¨ªäº•è»å¹³æ°ãŒåå­—ã‚­ãƒ¼ã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚â€™
},
{
question: â€˜ã‚¢ã‚¤ã‚¹ã‚¯ãƒ©ã‚¤ãƒãƒ¼ã®ä¸»äººå…¬ã¯ï¼Ÿâ€™,
choices: [â€˜ãƒãƒªã‚ªã¨ãƒ«ã‚¤ãƒ¼ã‚¸â€™, â€˜ãƒãƒã¨ãƒŠãƒŠâ€™, â€˜ãƒªãƒ³ã‚¯ã¨ã‚¼ãƒ«ãƒ€â€™, â€˜ã‚«ãƒ¼ãƒ“ã‚£ã¨ãƒ¯ãƒ‰ãƒ«ãƒ‡ã‚£â€™],
correct: 1,
explanation: â€˜ãƒãƒã¨ãƒŠãƒŠãŒã‚¢ã‚¤ã‚¹ã‚¯ãƒ©ã‚¤ãƒãƒ¼ã®ä¸»äººå…¬ã§ã™ã€‚â€™
},
{
question: â€˜ã‚¨ã‚­ã‚µã‚¤ãƒˆãƒã‚¤ã‚¯ã§æœ‰åãªæ“ä½œã¯ï¼Ÿâ€™,
choices: [â€˜ãƒ‰ãƒªãƒ•ãƒˆâ€™, â€˜ã‚¦ã‚£ãƒªãƒ¼â€™, â€˜ã‚¸ãƒ£ãƒ³ãƒ—â€™, â€˜ã‚¿ãƒ¼ãƒœâ€™],
correct: 3,
explanation: â€˜ã‚¿ãƒ¼ãƒœãƒœã‚¿ãƒ³ã‚’é§†ä½¿ã—ãŸãƒ¬ãƒ¼ã‚¹ãŒç‰¹å¾´ã§ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã®ã‚«ã‚»ãƒƒãƒˆå·®ã—è¾¼ã¿å£ã¯ï¼Ÿâ€™,
choices: [â€˜å‰é¢â€™, â€˜ä¸Šé¢â€™, â€˜å´é¢â€™, â€˜èƒŒé¢â€™],
correct: 1,
explanation: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã¯ä¸Šé¢ã«ã‚«ã‚»ãƒƒãƒˆã‚’å·®ã—è¾¼ã‚€å½¢å¼ã§ã—ãŸã€‚â€™
},
{
question: â€˜ãƒ•ã‚¡ãƒŸã‚³ãƒ³ç‰ˆãƒ†ãƒˆãƒªã‚¹ã‚’ç™ºå£²ã—ãŸä¼šç¤¾ã¯ï¼Ÿâ€™,
choices: [â€˜ä»»å¤©å ‚â€™, â€˜ã‚»ã‚¬â€™, â€˜BPSâ€™, â€˜ãƒãƒ‰ã‚½ãƒ³â€™],
correct: 2,
explanation: â€˜BPSï¼ˆãƒ“ãƒ¼ãƒ”ãƒ¼ã‚¨ã‚¹ï¼‰ã‹ã‚‰ç™ºå£²ã•ã‚Œã¾ã—ãŸã€‚â€™
},
{
question: â€˜ã‚¹ãƒšãƒ©ãƒ³ã‚«ãƒ¼ã§æœ‰åãªã®ã¯ï¼Ÿâ€™,
choices: [â€˜é«˜é›£æ˜“åº¦â€™, â€˜ç¾ã—ã„ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯â€™, â€˜é•·ã„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼â€™, â€˜å¤šå½©ãªã‚­ãƒ£ãƒ©â€™],
correct: 0,
explanation: â€˜ã¡ã‚‡ã£ã¨ã—ãŸæ®µå·®ã§æ­»ã¬é«˜é›£æ˜“åº¦ã§æœ‰åã§ã™ã€‚â€™
},
{
question: â€˜ãƒãƒªã‚ªã®è·æ¥­ã¯ï¼Ÿâ€™,
choices: [â€˜å¤§å·¥â€™, â€˜é…ç®¡å·¥â€™, â€˜åŒ»è€…â€™, â€˜æ•™å¸«â€™],
correct: 1,
explanation: â€˜ãƒãƒªã‚ªã¯é…ç®¡å·¥ã§ã™ã€‚â€™
}
];

const getRandomQuestion = () => {
const availableQuestions = questions.filter((_, index) => !usedQuestions.includes(index));
if (availableQuestions.length === 0) {
setUsedQuestions([]);
return questions[Math.floor(Math.random() * questions.length)];
}
const randomQuestion = availableQuestions[Math.floor(Math.random() * availableQuestions.length)];
const questionIndex = questions.indexOf(randomQuestion);
setUsedQuestions([â€¦usedQuestions, questionIndex]);
return randomQuestion;
};

// åˆå›ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«æœ€åˆã®å•é¡Œã‚’è¨­å®š
useEffect(() => {
if (!question) {
const availableQuestions = questions.filter((_, index) => !usedQuestions.includes(index));
const randomQuestion = availableQuestions[Math.floor(Math.random() * availableQuestions.length)];
const questionIndex = questions.indexOf(randomQuestion);
setUsedQuestions([questionIndex]);
setQuestion(randomQuestion);
}
}, []);

const handleAnswer = (index) => {
if (showResult) return;

```
setSelectedAnswer(index);
setShowResult(true);

if (index === question.correct) {
  playCorrectSound(); // æ­£è§£éŸ³
  const newScore = score + 1;
  setScore(newScore);
  
  if (newScore >= 5) {
    setGameStatus('win');
  }
} else {
  playIncorrectSound(); // ä¸æ­£è§£éŸ³
  const newMistakes = mistakes + 1;
  setMistakes(newMistakes);
  
  if (newMistakes >= 3) {
    setGameStatus('lose');
  }
}
```

};

const nextQuestion = () => {
setSelectedAnswer(null);
setShowResult(false);
setQuestion(getRandomQuestion());
setCurrentQuestion(currentQuestion + 1);
};

const resetGame = () => {
setScore(0);
setMistakes(0);
setGameStatus(â€˜playingâ€™);
setSelectedAnswer(null);
setShowResult(false);
setCurrentQuestion(0);
setUsedQuestions([]);

```
// æ–°ã—ã„å•é¡Œã‚’é¸æŠ
const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
const questionIndex = questions.indexOf(randomQuestion);
setUsedQuestions([questionIndex]);
setQuestion(randomQuestion);
```

};

const buttonStyle = (index) => ({
padding: â€˜20pxâ€™,
fontSize: â€˜18pxâ€™,
backgroundColor: showResult
? index === question.correct
? â€˜#00f000â€™
: index === selectedAnswer
? â€˜#f00â€™
: â€˜#444â€™
: â€˜#00f0f0â€™,
color: showResult && (index === question.correct || index === selectedAnswer) ? â€˜#000â€™ : â€˜#000â€™,
border: â€˜noneâ€™,
borderRadius: â€˜10pxâ€™,
cursor: showResult ? â€˜defaultâ€™ : â€˜pointerâ€™,
fontWeight: â€˜boldâ€™,
textAlign: â€˜leftâ€™,
width: â€˜100%â€™,
boxShadow: â€˜0 4px 6px rgba(0,0,0,0.3)â€™,
transition: â€˜all 0.2sâ€™,
touchAction: â€˜manipulationâ€™,
userSelect: â€˜noneâ€™,
opacity: showResult && index !== question.correct && index !== selectedAnswer ? 0.5 : 1
});

if (gameStatus === â€˜winâ€™) {
return (
<div style={{
display: â€˜flexâ€™,
flexDirection: â€˜columnâ€™,
alignItems: â€˜centerâ€™,
justifyContent: â€˜centerâ€™,
padding: â€˜20pxâ€™,
fontFamily: â€˜Arial, sans-serifâ€™,
backgroundColor: â€˜#1a1a1aâ€™,
minHeight: â€˜100vhâ€™,
color: â€˜#fffâ€™,
textAlign: â€˜centerâ€™
}}>
<h1 style={{ fontSize: â€˜48pxâ€™, marginBottom: â€˜20pxâ€™, color: â€˜#00f000â€™ }}>ğŸ‰ ã‚¯ãƒªã‚¢ï¼ ğŸ‰</h1>
<p style={{ fontSize: â€˜24pxâ€™, marginBottom: â€˜30pxâ€™ }}>
5å•æ­£è§£ã—ã¾ã—ãŸï¼<br />
ãƒ•ã‚¡ãƒŸã‚³ãƒ³ãƒã‚¹ã‚¿ãƒ¼ã§ã™ï¼
</p>
<div style={{ fontSize: â€˜20pxâ€™, marginBottom: â€˜30pxâ€™, color: â€˜#aaaâ€™ }}>
æ­£è§£æ•°: <span style={{ color: â€˜#00f000â€™, fontWeight: â€˜boldâ€™ }}>{score}</span> /
ä¸æ­£è§£æ•°: <span style={{ color: â€˜#f00â€™, fontWeight: â€˜boldâ€™ }}>{mistakes}</span>
</div>
<button
onClick={resetGame}
onTouchStart={(e) => { e.preventDefault(); resetGame(); }}
style={{
padding: â€˜20px 40pxâ€™,
fontSize: â€˜20pxâ€™,
backgroundColor: â€˜#00f0f0â€™,
color: â€˜#000â€™,
border: â€˜noneâ€™,
borderRadius: â€˜10pxâ€™,
cursor: â€˜pointerâ€™,
fontWeight: â€˜boldâ€™,
touchAction: â€˜manipulationâ€™
}}
>
ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤
</button>
</div>
);
}

if (gameStatus === â€˜loseâ€™) {
return (
<div style={{
display: â€˜flexâ€™,
flexDirection: â€˜columnâ€™,
alignItems: â€˜centerâ€™,
justifyContent: â€˜centerâ€™,
padding: â€˜20pxâ€™,
fontFamily: â€˜Arial, sans-serifâ€™,
backgroundColor: â€˜#1a1a1aâ€™,
minHeight: â€˜100vhâ€™,
color: â€˜#fffâ€™,
textAlign: â€˜centerâ€™
}}>
<h1 style={{ fontSize: â€˜48pxâ€™, marginBottom: â€˜20pxâ€™, color: â€˜#f00â€™ }}>ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼</h1>
<p style={{ fontSize: â€˜24pxâ€™, marginBottom: â€˜30pxâ€™ }}>
3å›é–“é•ãˆã¦ã—ã¾ã„ã¾ã—ãŸâ€¦<br />
ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã‚ˆã†ï¼
</p>
<div style={{ fontSize: â€˜20pxâ€™, marginBottom: â€˜30pxâ€™, color: â€˜#aaaâ€™ }}>
æ­£è§£æ•°: <span style={{ color: â€˜#00f000â€™, fontWeight: â€˜boldâ€™ }}>{score}</span> /
ä¸æ­£è§£æ•°: <span style={{ color: â€˜#f00â€™, fontWeight: â€˜boldâ€™ }}>{mistakes}</span>
</div>
<button
onClick={resetGame}
onTouchStart={(e) => { e.preventDefault(); resetGame(); }}
style={{
padding: â€˜20px 40pxâ€™,
fontSize: â€˜20pxâ€™,
backgroundColor: â€˜#00f0f0â€™,
color: â€˜#000â€™,
border: â€˜noneâ€™,
borderRadius: â€˜10pxâ€™,
cursor: â€˜pointerâ€™,
fontWeight: â€˜boldâ€™,
touchAction: â€˜manipulationâ€™
}}
>
ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤
</button>
</div>
);
}

// å•é¡ŒãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„å ´åˆ
if (!question) {
return (
<div style={{
display: â€˜flexâ€™,
alignItems: â€˜centerâ€™,
justifyContent: â€˜centerâ€™,
minHeight: â€˜100vhâ€™,
backgroundColor: â€˜#1a1a1aâ€™,
color: â€˜#fffâ€™,
fontSize: â€˜24pxâ€™
}}>
èª­ã¿è¾¼ã¿ä¸­â€¦
</div>
);
}

return (
<div style={{
display: â€˜flexâ€™,
flexDirection: â€˜columnâ€™,
alignItems: â€˜centerâ€™,
justifyContent: â€˜centerâ€™,
padding: â€˜10pxâ€™,
fontFamily: â€˜Arial, sans-serifâ€™,
backgroundColor: â€˜#1a1a1aâ€™,
minHeight: â€˜100vhâ€™,
color: â€˜#fffâ€™,
userSelect: â€˜noneâ€™,
boxSizing: â€˜border-boxâ€™
}}>
<h1 style={{ margin: â€˜0 0 10px 0â€™, color: â€˜#f00â€™, fontSize: â€˜24pxâ€™ }}>
ğŸ® ãƒ•ã‚¡ãƒŸã‚³ãƒ³ã‚¯ã‚¤ã‚º ğŸ®
</h1>

```
  {/* ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ */}
  <div style={{
    backgroundColor: '#222',
    padding: '8px 20px',
    borderRadius: '8px',
    marginBottom: '10px',
    display: 'flex',
    gap: '30px',
    width: '100%',
    maxWidth: '500px',
    justifyContent: 'center'
  }}>
    <div style={{ textAlign: 'center' }}>
      <div style={{ fontSize: '11px', color: '#aaa', marginBottom: '2px' }}>æ­£è§£</div>
      <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#00f000' }}>
        {score} / 5
      </div>
    </div>
    <div style={{
      width: '2px',
      backgroundColor: '#444'
    }} />
    <div style={{ textAlign: 'center' }}>
      <div style={{ fontSize: '11px', color: '#aaa', marginBottom: '2px' }}>ãƒŸã‚¹</div>
      <div style={{ fontSize: '20px', fontWeight: 'bold', color: '#f00' }}>
        {mistakes} / 3
      </div>
    </div>
  </div>

  {/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º */}
  {showResult && (
    <div style={{
      padding: '8px 15px',
      borderRadius: '5px',
      fontSize: '14px',
      marginBottom: '10px',
      fontWeight: 'bold',
      backgroundColor: selectedAnswer === question.correct ? '#00f000' : '#f00',
      color: '#000'
    }}>
      {selectedAnswer === question.correct ? 'ğŸ‰ æ­£è§£ï¼' : 'âŒ ä¸æ­£è§£...'}
    </div>
  )}

  {/* å•é¡Œã‚«ãƒ¼ãƒ‰ */}
  <div style={{
    backgroundColor: '#222',
    padding: '15px',
    borderRadius: '10px',
    width: '100%',
    maxWidth: '500px',
    marginBottom: '10px',
    boxShadow: '0 4px 8px rgba(0,0,0,0.5)'
  }}>
    <div style={{
      fontSize: '12px',
      color: '#aaa',
      marginBottom: '8px'
    }}>
      å•é¡Œ {currentQuestion + 1}
    </div>
    <h2 style={{
      fontSize: '16px',
      marginBottom: '15px',
      lineHeight: '1.4'
    }}>
      {question.question}
    </h2>

    <div style={{
      display: 'flex',
      flexDirection: 'column',
      gap: '8px'
    }}>
      {question.choices.map((choice, index) => (
        <button
          key={index}
          onClick={() => handleAnswer(index)}
          onTouchStart={(e) => { e.preventDefault(); handleAnswer(index); }}
          style={{
            padding: '12px',
            fontSize: '14px',
            backgroundColor: showResult
              ? index === question.correct
                ? '#00f000'
                : index === selectedAnswer
                ? '#f00'
                : '#444'
              : '#00f0f0',
            color: showResult && (index === question.correct || index === selectedAnswer) ? '#000' : '#000',
            border: 'none',
            borderRadius: '8px',
            cursor: showResult ? 'default' : 'pointer',
            fontWeight: 'bold',
            textAlign: 'left',
            width: '100%',
            boxShadow: '0 2px 4px rgba(0,0,0,0.3)',
            transition: 'all 0.2s',
            touchAction: 'manipulation',
            userSelect: 'none',
            opacity: showResult && index !== question.correct && index !== selectedAnswer ? 0.5 : 1
          }}
        >
          {String.fromCharCode(65 + index)}. {choice}
        </button>
      ))}
    </div>

    {showResult && (
      <div style={{
        marginTop: '15px',
        padding: '12px',
        backgroundColor: selectedAnswer === question.correct ? 'rgba(0, 240, 0, 0.1)' : 'rgba(240, 0, 0, 0.1)',
        borderRadius: '8px',
        border: selectedAnswer === question.correct ? '2px solid #00f000' : '2px solid #f00'
      }}>
        <div style={{ fontSize: '13px', lineHeight: '1.5' }}>
          {question.explanation}
        </div>
      </div>
    )}
  </div>

  {showResult && gameStatus === 'playing' && (
    <button
      onClick={nextQuestion}
      onTouchStart={(e) => { e.preventDefault(); nextQuestion(); }}
      style={{
        padding: '12px 30px',
        fontSize: '16px',
        backgroundColor: '#00f0f0',
        color: '#000',
        border: 'none',
        borderRadius: '8px',
        cursor: 'pointer',
        fontWeight: 'bold',
        touchAction: 'manipulation',
        boxShadow: '0 2px 4px rgba(0,0,0,0.3)'
      }}
    >
      æ¬¡ã®å•é¡Œã¸ âœ
    </button>
  )}
</div>
```

);
};

export default FamicomQuiz;